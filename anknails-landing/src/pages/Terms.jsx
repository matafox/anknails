import { useEffect } from "react";
import { useTranslation } from "react-i18next";
import {
  FileText,
  CreditCard,
  BookOpen,
  Ban,
  RefreshCcw,
  Shield,
  Users,
  Gavel,
  Mail,
  ChevronLeft,
  AlertCircle,
} from "lucide-react";

export default function TermsPage() {
  const { i18n } = useTranslation();
  const T = (ua, ru) => (i18n.language === "ru" ? ru : ua);

  // ⬇️ титул і скрол-ресет при монтуванні/зміні мови
  useEffect(() => {
    document.title = T("Умови користування — ANK Studio", "Условия пользования — ANK Studio");
    window.scrollTo({ top: 0, left: 0, behavior: "auto" });
  }, [i18n.language]);

  const backHome = () => {
    if (history.length > 1) history.back();
    else window.location.href = "/";
  };

  const Section = ({ icon: Icon, title, children }) => (
    <section
      className="rounded-2xl p-5 border mb-5
                 bg-white/90 dark:bg-[#141017]/90
                 border-pink-200/60 dark:border-fuchsia-900/40"
    >
      <div className="flex items-center gap-3 mb-3">
        <Icon className="w-5 h-5 text-pink-500" />
        <h3 className="text-lg font-semibold">{title}</h3>
      </div>
      <div className="text-sm leading-relaxed">{children}</div>
    </section>
  );

  return (
    <div
      className="min-h-screen w-full px-4 sm:px-6 py-6 sm:py-10
                 bg-gradient-to-b from-[#f6f0ff] via-[#fff] to-[#fdf9ff]
                 dark:from-[#100d16] dark:via-[#18141f] dark:to-[#100d16]
                 text-gray-800 dark:text-fuchsia-100"
    >
      <div className="max-w-3xl mx-auto">
        {/* Back */}
        <button
          onClick={backHome}
          className="inline-flex items-center gap-2 text-sm mb-6 text-pink-600 dark:text-fuchsia-200 hover:opacity-90"
        >
          <ChevronLeft className="w-4 h-4" />
          {T("Назад", "Назад")}
        </button>

        {/* Title */}
        <h1 className="text-3xl sm:text-4xl font-extrabold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-fuchsia-500 via-pink-500 to-rose-400">
          {T("Умови користування", "Условия пользования")}
        </h1>
        <p className="text-sm opacity-70 mb-6">
          {T("Останнє оновлення:", "Последнее обновление:")} 11.11.2025
        </p>

        <Section icon={FileText} title={T("Прийняття умов", "Принятие условий")}>
          <p>
            {T(
              "Використовуючи сайт та сервіси ANK Studio Online, ти погоджуєшся з цими Умовами. Якщо не погоджуєшся —, будь ласка, не користуйся платформою.",
              "Используя сайт и сервисы ANK Studio Online, вы соглашаетесь с данными Условиями. Если не согласны — пожалуйста, не используйте платформу."
            )}
          </p>
        </Section>

        <Section icon={Users} title={T("Обліковий запис і доступ", "Учетная запись и доступ")}>
          <ul className="list-disc pl-5 space-y-1">
            <li>
              {T(
                "Доступ особистий і не передається третім особам.",
                "Доступ личный и не передается третьим лицам."
              )}
            </li>
            <li>
              {T(
                "Ти відповідаєш за конфіденційність логіна/пароля.",
                "Вы отвечаете за конфиденциальность логина/пароля."
              )}
            </li>
            <li>
              {T(
                "Ми можемо тимчасово обмежити доступ у разі підозри на зловживання або порушення безпеки.",
                "Мы можем временно ограничить доступ при подозрении на злоупотребления или нарушения безопасности."
              )}
            </li>
          </ul>
        </Section>

        <Section icon={BookOpen} title={T("Використання матеріалів курсу", "Использование материалов курса")}>
          <ul className="list-disc pl-5 space-y-1">
            <li>
              {T(
                "Усі матеріали призначені лише для особистого навчання. Заборонена перепублікація, розповсюдження, передавання доступу або продаж.",
                "Все материалы предназначены только для личного обучения. Запрещены перепубликация, распространение, передача доступа или продажа."
              )}
            </li>
            <li>
              {T(
                "Кожна покупка — ліцензія на одного користувача.",
                "Каждая покупка — лицензия на одного пользователя."
              )}
            </li>
          </ul>
        </Section>

        <Section icon={CreditCard} title={T("Оплати та повернення", "Оплаты и возвраты")}>
          <ul className="list-disc pl-5 space-y-1">
            <li>
              {T(
                "Платежі обробляються платіжними провайдерами; ми не зберігаємо повні дані картки.",
                "Платежи обрабатываются платёжными провайдерами; мы не храним полные данные карты."
              )}
            </li>
            <li>
              {T(
                "Якщо інше не зазначено в описі тарифу, повернення за цифровий контент після надання доступу зазвичай не передбачене. Індивідуальні кейси — через підтримку.",
                "Если иное не указано в описании тарифа, возврат за цифровой контент после предоставления доступа обычно не предусмотрен. Индивидуальные случаи — через поддержку."
              )}
            </li>
          </ul>
        </Section>

        <Section icon={Ban} title={T("Заборонена поведінка", "Запрещённое поведение")}>
          <ul className="list-disc pl-5 space-y-1">
            <li>{T("Піратство, злам, обхід техзахисту.", "Пиратство, взлом, обход техзащиты.")}</li>
            <li>{T("Видача себе за іншу особу.", "Выдача себя за другое лицо.")}</li>
            <li>
              {T("Нецензурні/образливі дії у спільноті.", "Нецензурные/оскорбительные действия в сообществе.")}
            </li>
          </ul>
        </Section>

        <Section icon={Shield} title={T("Права інтелектуальної власності", "Права интеллектуальной собственности")}>
          <p>
            {T(
              "Усі матеріали (відео, тексти, дизайн) належать ANK Studio або використовуються на підставі ліцензій. Будь-яке комерційне використання без дозволу заборонене.",
              "Все материалы (видео, тексты, дизайн) принадлежат ANK Studio или используются на основании лицензий. Любое коммерческое использование без разрешения запрещено."
            )}
          </p>
        </Section>

        <Section icon={AlertCircle} title={T("Відмова від гарантій", "Отказ от гарантий")}>
          <p>
            {T(
              "Платформа надається «як є». Ми прагнемо до безперебійної роботи, але не гарантуємо відсутність помилок або 100% доступність.",
              "Платформа предоставляется «как есть». Мы стремимся к бесперебойной работе, но не гарантируем отсутствие ошибок или 100% доступность."
            )}
          </p>
        </Section>

        <Section icon={Gavel} title={T("Обмеження відповідальності", "Ограничение ответственности")}>
          <p>
            {T(
              "У межах, дозволених законом, ми не несемо відповідальності за непрямі збитки, втрачену вигоду чи дані.",
              "В пределах, разрешённых законом, мы не несём ответственности за косвенные убытки, упущенную выгоду или данные."
            )}
          </p>
        </Section>

        <Section icon={RefreshCcw} title={T("Зміни умов", "Изменения условий")}>
          <p>
            {T(
              "Ми можемо оновлювати ці Умови. Актуальна версія публікується на цій сторінці з датою оновлення.",
              "Мы можем обновлять данные Условия. Актуальная версия публикуется на этой странице с датой обновления."
            )}
          </p>
        </Section>

        <Section icon={Mail} title={T("Звʼязок", "Связь")}>
          <p>
            {T(
              "Питання щодо умов: напиши нам на email або у Telegram.",
              "Вопросы по условиям: напишите нам на email или в Telegram."
            )}
          </p>
        </Section>
      </div>
    </div>
  );
}
